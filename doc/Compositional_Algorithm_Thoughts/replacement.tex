\subsection{Replacement of a Contract with its MinCutSets for Max N Faults Analysis}

At the leaf level, only faults are contained in IVCs (and consequently in MCSs). Thus we store these cut sets in a lookup table for quick access throughout the algorithm. For this algorithm, we assume we are in an intermediate level of the analysis. Given a fault hypothesis of max N faults, we disregard any cut sets over cardinality N and collect the rest.\\

Assuming we have used the hitting set to generate MCS from the IVC, this is where the algorithm begins. \\

Let $MCS = F \cup G$ for faults $f \in F$ and contracts $g \in G$. If $|G| = 0$, then add $MCS$ to contract lookup table (it is already a MinCutSet). \\

Assume $|G| = \alpha > 0$.\\

Let $Cut(g) = {cut_1(g), ..., cut_{\beta}(g)}$ be all minimal cut sets for a contract $g \in G$ where $|Cut(g)|=\beta$.\\

\begin{algorithm}[H]
	% \KwData{this text}
	% \KwResult{how to write algorithm with \LaTeX2e }
	$List(MCS) = {MCS}$ : initialize list of MCSs that contain contracts \;
	$Cut(g)$ : all minimal cut sets with cardinality less than or equal to $N$ of the contract $g$ \;
	\For{all $MCS_i \in List(MCS)$ }{
	    Remove $MCS_i$ from $List(MCS)$\;
	    \For{all $g\in MCS_i$}{
		Remove $g$ from $MCS_i$ \;
		\For{all $cut_i(g) \in Cut(g)$}{
			Add $cut_i(g)$ to $MCS_i$ \;
			\If{$|MCS_i| \leq N$}{
				\eIf{$\exists g\in MCS_i$}{
					Add $MCS_i$ to $List(MCS)$
				}{
					Add $MCS_i$ to contract look up table (done)
				} % end if-else there is a contract in new MCS
			} % end if MCS is under threshold
		} % end for cut_i(g)
               } % end for contracts in MCS_i
	} % end for List(MCS)
	\caption{Replacement}
\end{algorithm}

\underline{A few thoughts...}
\begin{itemize}
\item Worst case number of replacements: $|\alpha||\beta|$. 
\item Worst case number of minimal cut sets generated: $|\alpha||\beta|$. 
\item All elements in $List(MCS)$ are ``ORed'' together.
\item All elements in $MCS_i$ are ``ANDed'' together.
\item When no more contracts exist in $MCS_i$, place that list in the data table and NOT back into $List(MCS)$. 
\item Need to create a quick way to check for contract existence in an $MCS_i$. Either a smart method to call or a good data structure (probably both). 

\end{itemize}





























