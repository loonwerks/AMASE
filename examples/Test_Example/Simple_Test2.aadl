package Simple_Test2
public
	with Base_Types;
	with Common_Faults;
	
	system C1
		features
			out1: out data port Base_Types::Integer;
		annex agree {**	
			guarantee "C1 out1 value": out1 >= 3;
		**};
	end C1;
	
	system implementation C1.impl
		subcomponents
			C2: system C2;
		connections
			C2_out2_to_out1: port C2.out2 -> out1;
		annex safety {**
      		analyze : max 1 fault
   		**};		
	end C1.impl;
	
	system C2
		features
			out2: out data port Base_Types::Integer;
		annex agree {**	
			guarantee "C2 out2 value": out2 = 3;
		**};	
		annex safety {**

			fault C2_out_negation "C2 out2 negation fault": Common_Faults::fail_to_zero {
			inputs: val_in <- out2;     
			outputs: out2 <- val_out;    
			duration: permanent;
			}	
		**};	
	end C2;
end Simple_Test2;